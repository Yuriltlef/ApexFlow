CREATE TABLE apexflow_order (
    id VARCHAR(50) PRIMARY KEY COMMENT '订单号，格式如ORDER20231215001',
    user_id INT NOT NULL COMMENT '下单用户ID',
    total_amount DECIMAL(10,2) NOT NULL COMMENT '订单总金额',
    status TINYINT NOT NULL COMMENT '状态：1-待支付，2-已支付，3-已发货，4-已完成，5-已取消',
    payment_method VARCHAR(20) COMMENT '支付方式：alipay,wxpay等',
    address_id INT COMMENT '收货地址ID',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '下单时间',
    paid_at DATETIME COMMENT '支付时间',
    shipped_at DATETIME COMMENT '发货时间',
    completed_at DATETIME COMMENT '完成时间'
) COMMENT='订单主表';

CREATE TABLE apexflow_order_item (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT '订单项ID',
    order_id VARCHAR(50) NOT NULL COMMENT '关联订单号',
    product_id INT NOT NULL COMMENT '商品ID',
    product_name VARCHAR(100) NOT NULL COMMENT '商品名称（下单时的快照）',
    quantity INT NOT NULL COMMENT '购买数量',
    price DECIMAL(10,2) NOT NULL COMMENT '下单时单价',
    subtotal DECIMAL(10,2) NOT NULL COMMENT '小计金额',
    FOREIGN KEY (order_id) REFERENCES apexflow_order(id),
    FOREIGN KEY (product_id) REFERENCES apexflow_product(id)
) COMMENT='订单商品明细表';

-- 插入50条订单数据
INSERT INTO apexflow_order (id, user_id, total_amount, status, payment_method, created_at, paid_at, shipped_at, completed_at) VALUES
('ORDER20231201001', 1001, 7999.00, 4, 'alipay', '2023-12-01 09:00:00', '2023-12-01 09:05:00', '2023-12-01 14:00:00', '2023-12-03 10:00:00'),
('ORDER20231201002', 1002, 18999.00, 4, 'wxpay', '2023-12-01 09:30:00', '2023-12-01 09:35:00', '2023-12-01 15:00:00', '2023-12-04 11:00:00'),
('ORDER20231201003', 1003, 4999.00, 3, 'alipay', '2023-12-01 10:00:00', '2023-12-01 10:05:00', '2023-12-02 10:00:00', NULL),
('ORDER20231201004', 1004, 3999.00, 4, 'wxpay', '2023-12-01 10:30:00', '2023-12-01 10:35:00', '2023-12-02 14:00:00', '2023-12-05 09:00:00'),
('ORDER20231201005', 1005, 8999.00, 2, 'alipay', '2023-12-01 11:00:00', '2023-12-01 11:05:00', NULL, NULL),
('ORDER20231201006', 1006, 12999.00, 4, 'wxpay', '2023-12-01 11:30:00', '2023-12-01 11:35:00', '2023-12-02 10:00:00', '2023-12-05 15:00:00'),
('ORDER20231201007', 1007, 5999.00, 1, NULL, '2023-12-01 12:00:00', NULL, NULL, NULL),
('ORDER20231201008', 1008, 3999.00, 4, 'alipay', '2023-12-01 12:30:00', '2023-12-01 12:35:00', '2023-12-02 16:00:00', '2023-12-06 10:00:00'),
('ORDER20231201009', 1009, 699.00, 4, 'wxpay', '2023-12-01 13:00:00', '2023-12-01 13:05:00', '2023-12-02 11:00:00', '2023-12-04 14:00:00'),
('ORDER20231201010', 1010, 499.00, 4, 'alipay', '2023-12-01 13:30:00', '2023-12-01 13:35:00', '2023-12-02 12:00:00', '2023-12-04 16:00:00'),
('ORDER20231201011', 1011, 7999.00, 5, NULL, '2023-12-01 14:00:00', NULL, NULL, NULL),
('ORDER20231201012', 1012, 5699.00, 4, 'alipay', '2023-12-01 14:30:00', '2023-12-01 14:35:00', '2023-12-02 13:00:00', '2023-12-05 11:00:00'),
('ORDER20231201013', 1013, 599.00, 4, 'wxpay', '2023-12-01 15:00:00', '2023-12-01 15:05:00', '2023-12-02 14:00:00', '2023-12-05 14:00:00'),
('ORDER20231201014', 1014, 399.00, 3, 'alipay', '2023-12-01 15:30:00', '2023-12-01 15:35:00', '2023-12-03 10:00:00', NULL),
('ORDER20231201015', 1015, 399.00, 4, 'wxpay', '2023-12-01 16:00:00', '2023-12-01 16:05:00', '2023-12-03 11:00:00', '2023-12-06 09:00:00'),
('ORDER20231201016', 1016, 199.00, 4, 'alipay', '2023-12-01 16:30:00', '2023-12-01 16:35:00', '2023-12-03 12:00:00', '2023-12-06 11:00:00'),
('ORDER20231201017', 1017, 8999.00, 4, 'wxpay', '2023-12-01 17:00:00', '2023-12-01 17:05:00', '2023-12-03 13:00:00', '2023-12-07 10:00:00'),
('ORDER20231201018', 1018, 1299.00, 2, 'alipay', '2023-12-01 17:30:00', '2023-12-01 17:35:00', NULL, NULL),
('ORDER20231201019', 1019, 299.00, 4, 'wxpay', '2023-12-01 18:00:00', '2023-12-01 18:05:00', '2023-12-03 14:00:00', '2023-12-07 14:00:00'),
('ORDER20231201020', 1020, 299.00, 4, 'alipay', '2023-12-01 18:30:00', '2023-12-01 18:35:00', '2023-12-03 15:00:00', '2023-12-07 16:00:00'),
('ORDER20231201021', 1021, 1499.00, 4, 'wxpay', '2023-12-01 19:00:00', '2023-12-01 19:05:00', '2023-12-04 10:00:00', '2023-12-08 10:00:00'),
('ORDER20231201022', 1022, 899.00, 1, NULL, '2023-12-01 19:30:00', NULL, NULL, NULL),
('ORDER20231201023', 1023, 299.00, 4, 'alipay', '2023-12-01 20:00:00', '2023-12-01 20:05:00', '2023-12-04 11:00:00', '2023-12-08 14:00:00'),
('ORDER20231201024', 1024, 2999.00, 4, 'wxpay', '2023-12-01 20:30:00', '2023-12-01 20:35:00', '2023-12-04 12:00:00', '2023-12-09 10:00:00'),
('ORDER20231201025', 1025, 299.00, 4, 'alipay', '2023-12-01 21:00:00', '2023-12-01 21:05:00', '2023-12-04 13:00:00', '2023-12-09 11:00:00'),
('ORDER20231201026', 1026, 5.00, 4, 'wxpay', '2023-12-01 21:30:00', '2023-12-01 21:35:00', '2023-12-04 14:00:00', '2023-12-09 14:00:00'),
('ORDER20231201027', 1027, 3.00, 3, 'alipay', '2023-12-01 22:00:00', '2023-12-01 22:05:00', '2023-12-05 10:00:00', NULL),
('ORDER20231201028', 1028, 69.00, 4, 'wxpay', '2023-12-01 22:30:00', '2023-12-01 22:35:00', '2023-12-05 11:00:00', '2023-12-10 10:00:00'),
('ORDER20231201029', 1029, 89.00, 5, NULL, '2023-12-01 23:00:00', NULL, NULL, NULL),
('ORDER20231201030', 1030, 15.00, 4, 'alipay', '2023-12-01 23:30:00', '2023-12-01 23:35:00', '2023-12-05 12:00:00', '2023-12-10 14:00:00'),
('ORDER20231201031', 1031, 39.00, 4, 'wxpay', '2023-12-02 09:00:00', '2023-12-02 09:05:00', '2023-12-05 13:00:00', '2023-12-11 10:00:00'),
('ORDER20231201032', 1032, 29.00, 4, 'alipay', '2023-12-02 09:30:00', '2023-12-02 09:35:00', '2023-12-05 14:00:00', '2023-12-11 11:00:00'),
('ORDER20231201033', 1033, 39.00, 1, NULL, '2023-12-02 10:00:00', NULL, NULL, NULL),
('ORDER20231201034', 1034, 49.00, 4, 'wxpay', '2023-12-02 10:30:00', '2023-12-02 10:35:00', '2023-12-06 10:00:00', '2023-12-12 10:00:00'),
('ORDER20231201035', 1035, 499.00, 4, 'alipay', '2023-12-02 11:00:00', '2023-12-02 11:05:00', '2023-12-06 11:00:00', '2023-12-12 14:00:00'),
('ORDER20231201036', 1036, 3999.00, 2, 'wxpay', '2023-12-02 11:30:00', '2023-12-02 11:35:00', NULL, NULL),
('ORDER20231201037', 1037, 1999.00, 4, 'alipay', '2023-12-02 12:00:00', '2023-12-02 12:05:00', '2023-12-06 12:00:00', '2023-12-13 10:00:00'),
('ORDER20231201038', 1038, 399.00, 4, 'wxpay', '2023-12-02 12:30:00', '2023-12-02 12:35:00', '2023-12-06 13:00:00', '2023-12-13 11:00:00'),
('ORDER20231201039', 1039, 89.00, 4, 'alipay', '2023-12-02 13:00:00', '2023-12-02 13:05:00', '2023-12-06 14:00:00', '2023-12-13 14:00:00'),
('ORDER20231201040', 1040, 59.00, 3, 'wxpay', '2023-12-02 13:30:00', '2023-12-02 13:35:00', '2023-12-07 10:00:00', NULL),
('ORDER20231201041', 1041, 199.00, 4, 'alipay', '2023-12-02 14:00:00', '2023-12-02 14:05:00', '2023-12-07 11:00:00', '2023-12-14 10:00:00'),
('ORDER20231201042', 1042, 299.00, 4, 'wxpay', '2023-12-02 14:30:00', '2023-12-02 14:35:00', '2023-12-07 12:00:00', '2023-12-14 11:00:00'),
('ORDER20231201043', 1043, 399.00, 4, 'alipay', '2023-12-02 15:00:00', '2023-12-02 15:05:00', '2023-12-07 13:00:00', '2023-12-14 14:00:00'),
('ORDER20231201044', 1044, 999.00, 5, NULL, '2023-12-02 15:30:00', NULL, NULL, NULL),
('ORDER20231201045', 1045, 399.00, 4, 'wxpay', '2023-12-02 16:00:00', '2023-12-02 16:05:00', '2023-12-07 14:00:00', '2023-12-15 10:00:00'),
('ORDER20231201046', 1046, 199.00, 4, 'alipay', '2023-12-02 16:30:00', '2023-12-02 16:35:00', '2023-12-08 10:00:00', '2023-12-15 11:00:00'),
('ORDER20231201047', 1047, 99.00, 4, 'wxpay', '2023-12-02 17:00:00', '2023-12-02 17:05:00', '2023-12-08 11:00:00', '2023-12-15 14:00:00'),
('ORDER20231201048', 1048, 89.00, 4, 'alipay', '2023-12-02 17:30:00', '2023-12-02 17:35:00', '2023-12-08 12:00:00', '2023-12-16 10:00:00'),
('ORDER20231201049', 1049, 29.00, 1, NULL, '2023-12-02 18:00:00', NULL, NULL, NULL),
('ORDER20231201050', 1050, 19.00, 4, 'wxpay', '2023-12-02 18:30:00', '2023-12-02 18:35:00', '2023-12-08 13:00:00', '2023-12-16 11:00:00');

-- 插入50条订单项数据
INSERT INTO apexflow_order_item (order_id, product_id, product_name, quantity, price, subtotal) VALUES
('ORDER20231201001', 1, 'iPhone 14 Pro', 1, 7999.00, 7999.00),
('ORDER20231201002', 2, 'MacBook Pro 16英寸', 1, 18999.00, 18999.00),
('ORDER20231201003', 3, '华为Mate 50', 1, 4999.00, 4999.00),
('ORDER20231201004', 4, '小米13', 1, 3999.00, 3999.00),
('ORDER20231201005', 5, '戴尔XPS 13', 1, 8999.00, 8999.00),
('ORDER20231201006', 6, '索尼75英寸电视', 1, 12999.00, 12999.00),
('ORDER20231201007', 7, '海尔冰箱', 1, 5999.00, 5999.00),
('ORDER20231201008', 8, '格力空调', 1, 3999.00, 3999.00),
('ORDER20231201009', 9, '耐克跑鞋', 1, 699.00, 699.00),
('ORDER20231201010', 10, '阿迪达斯运动服', 1, 499.00, 499.00),
('ORDER20231201011', 11, '联想拯救者', 1, 7999.00, 7999.00),
('ORDER20231201012', 12, '三星S23', 1, 5699.00, 5699.00),
('ORDER20231201013', 13, '美的微波炉', 1, 599.00, 599.00),
('ORDER20231201014', 14, '苏泊尔电饭煲', 1, 399.00, 399.00),
('ORDER20231201015', 15, '安踏运动鞋', 1, 399.00, 399.00),
('ORDER20231201016', 16, '李宁T恤', 1, 199.00, 199.00),
('ORDER20231201017', 17, '佳能相机', 1, 8999.00, 8999.00),
('ORDER20231201018', 18, '索尼耳机', 1, 1299.00, 1299.00),
('ORDER20231201019', 19, '小米手环', 1, 299.00, 299.00),
('ORDER20231201020', 20, '罗技鼠标', 1, 299.00, 299.00),
('ORDER20231201021', 21, '苹果耳机', 1, 1499.00, 1499.00),
('ORDER20231201022', 22, '飞利浦剃须刀', 1, 899.00, 899.00),
('ORDER20231201023', 23, '欧莱雅面霜', 1, 299.00, 299.00),
('ORDER20231201024', 24, '海蓝之谜精华', 1, 2999.00, 2999.00),
('ORDER20231201025', 25, '雅诗兰黛口红', 1, 299.00, 299.00),
('ORDER20231201026', 26, '康师傅方便面', 1, 5.00, 5.00),
('ORDER20231201027', 27, '可口可乐', 1, 3.00, 3.00),
('ORDER20231201028', 28, '蒙牛纯牛奶', 1, 69.00, 69.00),
('ORDER20231201029', 29, '金龙鱼大米', 1, 89.00, 89.00),
('ORDER20231201030', 30, '海天酱油', 1, 15.00, 15.00),
('ORDER20231201031', 31, '洁柔抽纸', 1, 39.00, 39.00),
('ORDER20231201032', 32, '黑人牙膏', 1, 29.00, 29.00),
('ORDER20231201033', 33, '飘柔洗发水', 1, 39.00, 39.00),
('ORDER20231201034', 34, '蓝月亮洗衣液', 1, 49.00, 49.00),
('ORDER20231201035', 35, '宜家桌子', 1, 499.00, 499.00),
('ORDER20231201036', 36, '顾家沙发', 1, 3999.00, 3999.00),
('ORDER20231201037', 37, '芝华士椅子', 1, 1999.00, 1999.00),
('ORDER20231201038', 38, '双立人菜刀', 1, 399.00, 399.00),
('ORDER20231201039', 39, '乐扣水杯', 1, 89.00, 89.00),
('ORDER20231201040', 40, '天堂伞', 1, 59.00, 59.00),
('ORDER20231201041', 41, '小米充电宝', 1, 199.00, 199.00),
('ORDER20231201042', 42, '华为路由器', 1, 299.00, 299.00),
('ORDER20231201043', 43, '漫步者音响', 1, 399.00, 399.00),
('ORDER20231201044', 44, 'Kindle阅读器', 1, 999.00, 999.00),
('ORDER20231201045', 45, '九阳豆浆机', 1, 399.00, 399.00),
('ORDER20231201046', 46, '小熊电炖锅', 1, 199.00, 199.00),
('ORDER20231201047', 47, '三只松鼠零食', 1, 99.00, 99.00),
('ORDER20231201048', 48, '良品铺子坚果', 1, 89.00, 89.00),
('ORDER20231201049', 49, '维达纸巾', 1, 29.00, 29.00),
('ORDER20231201050', 50, '心相印湿巾', 1, 19.00, 19.00);
