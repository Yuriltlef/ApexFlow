import{az as n,u as a}from"./index-DD_-ku_t.js";const r="http://localhost:8080/ApexFlow/api";function s(){const e=a.getToken();return{"Content-Type":"application/json;charset=utf-8",Authorization:e?`Bearer ${e}`:""}}function i(e){return n({url:`${r}/auth/login`,method:"post",data:e,headers:{"Content-Type":"application/json;charset=utf-8"},timeout:1e4})}function u(){const e=a.getToken();return e?n({url:`${r}/user/permissions`,method:"get",headers:{Authorization:`Bearer ${e}`}}):Promise.reject(new Error("未登录"))}function c(e){return n({url:`${r}/admin/users`,method:"get",headers:s(),params:e})}function d(e){return n({url:`${r}/admin/users`,method:"post",headers:s(),data:e})}function m(e){return n({url:`${r}/admin/users/${e.id}`,method:"put",headers:s(),data:{realName:e.username,email:e.email,phone:e.phone,status:e.status}})}function h(e){return n({url:`${r}/admin/users/${e.id}/permissions`,method:"put",headers:s(),data:{isAdmin:e.isAdmin,canManageOrder:e.canManageOrder,canManageLogistics:e.canManageLogistics,canManageAfterSales:e.canManageAfterSales,canManageReview:e.canManageReview,canManageInventory:e.canManageInventory,canManageIncome:e.canManageIncome}})}function g(e,t){return n({url:`${r}/admin/users/${e}/password`,method:"put",headers:s(),data:{password:t}})}function p(e){return n({url:`${r}/admin/users/${e}`,method:"delete",headers:s()})}export{h as a,i as b,d as c,p as d,u as e,c as g,g as r,m as u};
